 Описание классов транспортной системы

 Классы транспортных средств

 Класс Vehicle

Базовый класс для представления транспортного средства в системе. Хранит основную информацию о транспорте: тип, модель и номерной знак. Является родительским классом для FuelTransport и ElectricTransport.

**Поля:**

- `std::string type` – тип транспортного средства;
- `std::string model` – модель транспортного средства;
- `std::string licensePlate` – номерной знак транспортного средства;

**Методы:**

- `Vehicle(const std::string& t, const std::string& m, const std::string& lp)` – конструктор с параметрами;
- `virtual ~Vehicle()` – виртуальный деструктор;
- `std::string getInfo() const` – получение информации о транспортном средстве;
- `std::string getType() const` – получение типа;
- `std::string getModel() const` – получение модели;
- `std::string getLicensePlate() const` – получение номерного знака;
- `virtual std::string serialize() const` – сериализация в строку;
- `static std::shared_ptr<Vehicle> deserialize(const std::string& data)` – десериализация из строки;

 Класс FuelTransport

Промежуточный класс для топливного транспорта. Наследуется от Vehicle. Представляет транспортные средства, работающие на топливе (бензин, дизель, газ). Добавляет информацию о вместимости и типе топлива.

**Поля:**

- `int capacity` – вместимость пассажиров;
- `std::string fuelType` – тип топлива (бензин, дизель, газ);

**Методы:**

- `FuelTransport(const std::string& t, const std::string& m, const std::string& lp, int cap = 50, const std::string& fuel = "дизель")` – конструктор с параметрами;
- `int getCapacity() const` – получение вместимости;
- `void setCapacity(int cap)` – установка вместимости;
- `std::string getFuelType() const` – получение типа топлива;
- `void setFuelType(const std::string& fuel)` – установка типа топлива;
- `std::string serialize() const override` – сериализация в строку;

 Класс ElectricTransport

Промежуточный класс для электрического транспорта. Наследуется от Vehicle. Представляет транспортные средства, работающие на электричестве. Добавляет информацию о вместимости и напряжении питания.

**Поля:**

- `int capacity` – вместимость пассажиров;
- `double voltage` – напряжение питания (В);

**Методы:**

- `ElectricTransport(const std::string& t, const std::string& m, const std::string& lp, int cap = 50, double volt = 600.0)` – конструктор с параметрами;
- `int getCapacity() const` – получение вместимости;
- `void setCapacity(int cap)` – установка вместимости;
- `double getVoltage() const` – получение напряжения;
- `void setVoltage(double volt)` – установка напряжения;
- `std::string serialize() const override` – сериализация в строку;

 Класс Bus

Класс автобуса. Наследуется от FuelTransport. Представляет автобус с топливным двигателем.

**Методы:**

- `Bus(const std::string& m, const std::string& lp, int cap = 50, const std::string& fuel = "дизель")` – конструктор с параметрами;

 Класс Trolleybus

Класс троллейбуса. Наследуется от ElectricTransport. Представляет троллейбус с электрическим двигателем.

**Методы:**

- `Trolleybus(const std::string& m, const std::string& lp, int cap = 50, double volt = 600.0)` – конструктор с параметрами;

 Класс Tram

Класс трамвая. Наследуется от ElectricTransport. Представляет трамвай с электрическим двигателем.

**Методы:**

- `Tram(const std::string& m, const std::string& lp, int cap = 100, double volt = 600.0)` – конструктор с параметрами;

---

 Классы персонала

 Класс Driver

Класс для представления водителя в системе. Хранит информацию о водителе: имя, фамилию, отчество и категорию водительских прав.

**Поля:**

- `std::string firstName` – имя водителя;
- `std::string lastName` – фамилия водителя;
- `std::string middleName` – отчество водителя;
- `std::string category` – категория водительских прав (D, T, и т.д.);

**Методы:**

- `Driver(const std::string& fname, const std::string& lname, const std::string& mname = "", const std::string& cat = "")` – конструктор с параметрами;
- `std::string getFullName() const` – получение полного имени;
- `std::string getFirstName() const` – получение имени;
- `std::string getLastName() const` – получение фамилии;
- `std::string getMiddleName() const` – получение отчества;
- `std::string getCategory() const` – получение категории;
- `void setCategory(const std::string& cat)` – установка категории;
- `bool operator==(const Driver& other) const` – оператор сравнения;
- `std::string serialize() const` – сериализация в строку;
- `static std::shared_ptr<Driver> deserialize(const std::string& data)` – десериализация из строки;

---

 Классы маршрутов и остановок

 Класс Route

Класс для представления маршрута в системе. Хранит информацию о маршруте: номер, тип транспорта, список остановок, начальную и конечную остановки, дни недели работы.

**Поля:**

- `int number` – номер маршрута;
- `std::string vehicleType` – тип транспортного средства;
- `std::string startStop` – начальная остановка;
- `std::string endStop` – конечная остановка;
- `std::vector<std::string> allStops` – список всех остановок маршрута;
- `std::set<int> weekDays` – дни недели работы маршрута (1-понедельник, 2-вторник, ..., 7-воскресенье);

**Методы:**

- `Route(int num, const std::string& vType, const std::vector<std::string>& stops, const std::set<int>& days = {1,2,3,4,5,6,7})` – конструктор с параметрами;
- `bool containsStop(const std::string& stop) const` – проверка наличия остановки в маршруте;
- `int getStopPosition(const std::string& stop) const` – получение позиции остановки в маршруте;
- `bool isStopBefore(const std::string& stopA, const std::string& stopB) const` – проверка, находится ли остановка A перед остановкой B;
- `int getNumber() const` – получение номера маршрута;
- `std::string getVehicleType() const` – получение типа транспорта;
- `std::string getStartStop() const` – получение начальной остановки;
- `std::string getEndStop() const` – получение конечной остановки;
- `const std::vector<std::string>& getAllStops() const` – получение списка всех остановок;
- `const std::set<int>& getWeekDays() const` – получение дней недели работы;
- `bool operatesOnDay(int day) const` – проверка работы маршрута в указанный день;
- `std::string serialize() const` – сериализация в строку;
- `static std::shared_ptr<Route> deserialize(const std::string& data)` – десериализация из строки;

 Класс Stop

Класс для представления остановки в системе. Хранит идентификатор и название остановки.

**Поля:**

- `int id` – идентификатор остановки;
- `std::string name` – название остановки;

**Методы:**

- `Stop(int stopId, std::string stopName)` – конструктор с параметрами;
- `int getId() const` – получение идентификатора;
- `std::string getName() const` – получение названия;
- `bool operator==(const Stop& other) const` – оператор сравнения;
- `std::string serialize() const` – сериализация в строку;
- `static Stop deserialize(const std::string& data)` – десериализация из строки;

---

 Классы рейсов и времени

 Класс Time

Класс для представления времени в системе. Хранит часы и минуты, обеспечивает операции сравнения и арифметические операции с временем.

**Поля:**

- `int hours` – часы;
- `int minutes` – минуты;

**Методы:**

- `explicit Time(int h = 0, int m = 0)` – конструктор с параметрами;
- `explicit Time(const std::string& timeStr)` – конструктор из строки;
- `int getTotalMinutes() const` – получение общего количества минут;
- `int getHours() const` – получение часов;
- `int getMinutes() const` – получение минут;
- `bool operator<(const Time& other) const` – оператор меньше;
- `bool operator<=(const Time& other) const` – оператор меньше или равно;
- `bool operator>(const Time& other) const` – оператор больше;
- `bool operator>=(const Time& other) const` – оператор больше или равно;
- `bool operator==(const Time& other) const` – оператор равенства;
- `bool operator!=(const Time& other) const` – оператор неравенства;
- `Time operator+(int minutesToAdd) const` – сложение с минутами;
- `Time operator-(int minutesToSubtract) const` – вычитание минут;
- `int operator-(const Time& other) const` – разница между временами в минутах;
- `friend std::ostream& operator<<(std::ostream& os, const Time& time)` – оператор вывода;
- `friend std::istream& operator>>(std::istream& is, Time& time)` – оператор ввода;
- `std::string serialize() const` – сериализация в строку;
- `static Time deserialize(const std::string& data)` – десериализация из строки;

**Приватные методы:**

- `void normalize(int totalMinutes)` – нормализация времени;

 Класс Trip

Класс для представления рейса в системе. Хранит информацию о рейсе: идентификатор, маршрут, транспортное средство, водителя, время отправления, расписание прибытия на остановки и день недели.

**Поля:**

- `int tripId` – идентификатор рейса;
- `std::shared_ptr<Route> route` – маршрут рейса;
- `std::shared_ptr<Vehicle> vehicle` – транспортное средство;
- `std::shared_ptr<Driver> driver` – водитель;
- `Time startTime` – время отправления;
- `std::map<std::string, Time> schedule` – расписание прибытия (остановка -> время прибытия);
- `int weekDay` – день недели (1-понедельник, 2-вторник, ..., 7-воскресенье);

**Методы:**

- `Trip(int id, std::shared_ptr<Route> r, std::shared_ptr<Vehicle> v, std::shared_ptr<Driver> d, const Time& start, int day = 1)` – конструктор с параметрами;
- `void setArrivalTime(const std::string& stop, const Time& time)` – установка времени прибытия на остановку;
- `Time getArrivalTime(const std::string& stop) const` – получение времени прибытия на остановку;
- `bool hasStop(const std::string& stop) const` – проверка наличия остановки в рейсе;
- `int getTripId() const` – получение идентификатора рейса;
- `std::shared_ptr<Route> getRoute() const` – получение маршрута;
- `std::shared_ptr<Vehicle> getVehicle() const` – получение транспортного средства;
- `std::shared_ptr<Driver> getDriver() const` – получение водителя;
- `Time getStartTime() const` – получение времени отправления;
- `const std::map<std::string, Time>& getSchedule() const` – получение расписания;
- `int getWeekDay() const` – получение дня недели;
- `Time getEstimatedEndTime() const` – получение расчетного времени окончания;
- `std::string serialize() const` – сериализация в строку;
- `static std::shared_ptr<Trip> deserialize(const std::string& data, TransportSystem* system = nullptr)` – десериализация из строки;

 Класс Journey

Класс для представления поездки с пересадками. Хранит информацию о последовательности рейсов, точках пересадок, времени начала и окончания поездки.

**Поля:**

- `std::vector<std::shared_ptr<Trip>> trips` – список рейсов в поездке;
- `std::vector<std::string> transferPoints` – точки пересадок;
- `Time startTime` – время начала поездки;
- `Time endTime` – время окончания поездки;
- `int transferCount` – количество пересадок;

**Методы:**

- `Journey(const std::vector<std::shared_ptr<Trip>>& tripList, const std::vector<std::string>& transfers, Time start, Time end)` – конструктор с параметрами;
- `int getTotalDuration() const` – получение общей продолжительности поездки;
- `int getTransferCount() const` – получение количества пересадок;
- `Time getStartTime() const` – получение времени начала;
- `Time getEndTime() const` – получение времени окончания;
- `const std::vector<std::shared_ptr<Trip>>& getTrips() const` – получение списка рейсов;
- `const std::vector<std::string>& getTransferPoints() const` – получение точек пересадок;
- `void display() const` – вывод информации о поездке;

---

 Классы алгоритмов

 Класс Algorithm

Базовый класс для всех алгоритмов в системе. Реализует паттерн Strategy. Предоставляет интерфейс для выполнения алгоритмов.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;

**Методы:**

- `explicit Algorithm(TransportSystem* sys)` – конструктор с параметрами;
- `virtual ~Algorithm()` – виртуальный деструктор;
- `virtual void execute() = 0` – виртуальный метод выполнения алгоритма;
- `virtual std::string getDescription() const = 0` – получение описания алгоритма;
- `void setSystem(TransportSystem* sys)` – установка системы;

 Класс PathFindingAlgorithm

Базовый класс для алгоритмов поиска пути. Наследуется от Algorithm. Предоставляет интерфейс для поиска маршрутов между остановками.

**Методы:**

- `explicit PathFindingAlgorithm(TransportSystem* sys)` – конструктор с параметрами;
- `virtual std::vector<Journey> findPath(const std::string& start, const std::string& end, const Time& departureTime) = 0` – виртуальный метод поиска пути;
- `void execute() override` – реализация базового метода;

 Класс BFSAlgorithm

Алгоритм поиска в ширину (BFS) для поиска маршрутов с пересадками. Наследуется от PathFindingAlgorithm.

**Поля:**

- `int maxTransfers` – максимальное количество пересадок;

**Методы:**

- `BFSAlgorithm(TransportSystem* sys, int maxTransfers = 2)` – конструктор с параметрами;
- `std::vector<Journey> findPath(const std::string& start, const std::string& end, const Time& departureTime) override` – поиск пути;
- `void execute() override` – выполнение алгоритма;
- `std::string getDescription() const override` – получение описания;

 Класс FastestPathAlgorithm

Алгоритм поиска самого быстрого маршрута. Наследуется от PathFindingAlgorithm.

**Методы:**

- `explicit FastestPathAlgorithm(TransportSystem* sys)` – конструктор с параметрами;
- `std::vector<Journey> findPath(const std::string& start, const std::string& end, const Time& departureTime) override` – поиск самого быстрого пути;
- `void execute() override` – выполнение алгоритма;
- `std::string getDescription() const override` – получение описания;

 Класс MinimalTransfersAlgorithm

Алгоритм поиска маршрута с минимальными пересадками. Наследуется от PathFindingAlgorithm.

**Методы:**

- `explicit MinimalTransfersAlgorithm(TransportSystem* sys)` – конструктор с параметрами;
- `std::vector<Journey> findPath(const std::string& start, const std::string& end, const Time& departureTime) override` – поиск пути с минимальными пересадками;
- `void execute() override` – выполнение алгоритма;
- `std::string getDescription() const override` – получение описания;

 Класс ArrivalTimeCalculationAlgorithm

Алгоритм расчета времени прибытия на остановки. Наследуется от Algorithm.

**Методы:**

- `explicit ArrivalTimeCalculationAlgorithm(TransportSystem* sys)` – конструктор с параметрами;
- `void calculateArrivalTimes(int tripId, double averageSpeed)` – расчет времени прибытия;
- `void execute() override` – выполнение алгоритма;
- `std::string getDescription() const override` – получение описания;

 Класс RouteSearchAlgorithm

Алгоритм поиска маршрутов между остановками. Наследуется от Algorithm.

**Методы:**

- `explicit RouteSearchAlgorithm(TransportSystem* sys)` – конструктор с параметрами;
- `std::vector<std::shared_ptr<Route>> findRoutes(const std::string& stopA, const std::string& stopB)` – поиск маршрутов;
- `void execute() override` – выполнение алгоритма;
- `std::string getDescription() const override` – получение описания;

---

 Классы управления системой

 Класс TransportSystem

Основной класс транспортной системы. Управляет всеми маршрутами, рейсами, транспортными средствами, водителями, остановками. Реализует бизнес-логику работы системы, поиска маршрутов, расчета времени прибытия, управления расписанием водителей и операций Undo/Redo.

**Поля:**

- `std::vector<std::shared_ptr<Route>> routes` – список маршрутов;
- `std::vector<std::shared_ptr<Trip>> trips` – список рейсов;
- `std::vector<std::shared_ptr<Vehicle>> vehicles` – список транспортных средств;
- `std::vector<std::shared_ptr<Driver>> drivers` – список водителей;
- `DynamicArray<Stop> stops` – массив остановок;
- `std::unordered_map<int, std::string> stopIdToName` – соответствие ID остановки и её названия;
- `std::unordered_map<std::string, std::string> adminCredentials` – учетные данные администраторов;
- `JourneyPlanner journeyPlanner` – планировщик поездок;
- `DriverSchedule driverSchedule` – расписание водителей;
- `DataManager dataManager` – менеджер данных;
- `CommandHistory commandHistory` – история команд;
- `std::unique_ptr<ArrivalTimeCalculationAlgorithm> arrivalTimeAlgorithm` – алгоритм расчета времени прибытия;
- `std::unique_ptr<RouteSearchAlgorithm> routeSearchAlgorithm` – алгоритм поиска маршрутов;

**Методы:**

- `TransportSystem()` – конструктор;
- `bool canUndo() const` – проверка возможности отмены;
- `void undo()` – отмена действия;
- `bool canRedo() const` – проверка возможности повтора;
- `void redo()` – повтор действия;
- `std::string getLastCommandDescription() const` – описание последней команды;
- `std::string getNextCommandDescription() const` – описание следующей команды;
- `bool authenticateAdmin(const std::string& username, const std::string& password)` – аутентификация администратора;
- `void addAdmin(const std::string& username, const std::string& password)` – добавление администратора;
- `const std::unordered_map<std::string, std::string>& getAdminCredentials() const` – получение учетных данных;
- `void setAdminCredentials(const std::unordered_map<std::string, std::string>& creds)` – установка учетных данных;
- `void saveData()` – сохранение всех данных;
- `void loadData()` – загрузка всех данных;
- `std::vector<std::shared_ptr<Route>> findRoutes(const std::string& stopA, const std::string& stopB)` – поиск маршрутов между остановками;
- `void getStopTimetable(int stopId, const Time& startTime, const Time& endTime)` – получение расписания остановки за период;
- `void getStopTimetableAll(const std::string& stopName)` – получение полного расписания остановки;
- `void calculateArrivalTimes(int tripId, double averageSpeed)` – расчет времени прибытия;
- `ArrivalTimeCalculationAlgorithm* getArrivalTimeAlgorithm() const` – получение алгоритма расчета времени;
- `RouteSearchAlgorithm* getRouteSearchAlgorithm() const` – получение алгоритма поиска маршрутов;
- `void addRoute(std::shared_ptr<Route> route)` – добавление маршрута;
- `void addTrip(std::shared_ptr<Trip> trip)` – добавление рейса;
- `void addVehicle(std::shared_ptr<Vehicle> vehicle)` – добавление транспортного средства;
- `void addDriver(std::shared_ptr<Driver> driver)` – добавление водителя;
- `void addStop(const Stop& stop)` – добавление остановки;
- `void removeRoute(int routeNumber)` – удаление маршрута;
- `void removeTrip(int tripId)` – удаление рейса;
- `void displayAllRoutes() const` – вывод всех маршрутов;
- `void displayAllTrips() const` – вывод всех рейсов;
- `void displayAllVehicles() const` – вывод всех транспортных средств;
- `void displayAllStops() const` – вывод всех остановок;
- `const std::vector<std::shared_ptr<Trip>>& getTrips() const` – получение списка рейсов;
- `const std::vector<std::shared_ptr<Route>>& getRoutes() const` – получение списка маршрутов;
- `const std::vector<std::shared_ptr<Vehicle>>& getVehicles() const` – получение списка транспортных средств;
- `const DynamicArray<Stop>& getStops() const` – получение массива остановок;
- `const std::vector<std::shared_ptr<Driver>>& getDrivers() const` – получение списка водителей;
- `JourneyPlanner& getJourneyPlanner()` – получение планировщика поездок;
- `DriverSchedule& getDriverSchedule()` – получение расписания водителей;
- `std::shared_ptr<Driver> findDriverByName(const std::string& firstName, const std::string& lastName, const std::string& middleName = "") const` – поиск водителя по имени;
- `std::shared_ptr<Vehicle> findVehicleByLicensePlate(const std::string& licensePlate) const` – поиск транспортного средства по номеру;
- `std::shared_ptr<Route> findRouteByNumber(int number) const` – поиск маршрута по номеру;
- `std::vector<std::shared_ptr<Trip>> getTripsThroughStop(const std::string& stopName) const` – получение рейсов через остановку;
- `std::string getStopNameById(int id) const` – получение названия остановки по ID;
- `std::shared_ptr<Route> getRouteByNumber(int number)` – получение маршрута по номеру;
- `std::shared_ptr<Trip> getTripById(int id)` – получение рейса по ID;
- `std::shared_ptr<Vehicle> getVehicleByLicensePlate(const std::string& licensePlate)` – получение транспортного средства по номеру;
- `Stop getStopById(int id)` – получение остановки по ID;
- `void addRouteDirect(std::shared_ptr<Route> route)` – прямое добавление маршрута (без команды);
- `void removeRouteDirect(int routeNumber)` – прямое удаление маршрута (без команды);
- `void addTripDirect(std::shared_ptr<Trip> trip)` – прямое добавление рейса (без команды);
- `void removeTripDirect(int tripId)` – прямое удаление рейса (без команды);
- `void addVehicleDirect(std::shared_ptr<Vehicle> vehicle)` – прямое добавление транспортного средства (без команды);
- `void removeVehicleDirect(const std::string& licensePlate)` – прямое удаление транспортного средства (без команды);
- `void addStopDirect(const Stop& stop)` – прямое добавление остановки (без команды);
- `void removeStopDirect(int stopId)` – прямое удаление остановки (без команды);
- `void addDriverDirect(std::shared_ptr<Driver> driver)` – прямое добавление водителя (без команды);
- `void removeDriverDirect(std::shared_ptr<Driver> driver)` – прямое удаление водителя (без команды);

 Класс JourneyPlanner

Класс планировщика поездок. Использует паттерн Facade для упрощения работы с алгоритмами поиска маршрутов. Управляет различными алгоритмами поиска пути.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::unique_ptr<BFSAlgorithm> bfsAlgorithm` – алгоритм поиска в ширину;
- `std::unique_ptr<FastestPathAlgorithm> fastestAlgorithm` – алгоритм поиска самого быстрого пути;
- `std::unique_ptr<MinimalTransfersAlgorithm> minimalTransfersAlgorithm` – алгоритм поиска с минимальными пересадками;

**Методы:**

- `JourneyPlanner(TransportSystem* sys)` – конструктор с параметрами;
- `std::vector<Journey> findJourneysWithTransfers(const std::string& startStop, const std::string& endStop, const Time& departureTime, int maxTransfers = 2) const` – поиск поездок с пересадками;
- `std::vector<Journey> findAllJourneysWithTransfers(const std::string& startStop, const std::string& endStop, int maxTransfers = 2) const` – поиск всех поездок с пересадками;
- `Journey findFastestJourney(const std::string& startStop, const std::string& endStop, const Time& departureTime)` – поиск самой быстрой поездки;
- `Journey findJourneyWithLeastTransfers(const std::string& startStop, const std::string& endStop, const Time& departureTime)` – поиск поездки с минимальными пересадками;
- `void displayJourney(const Journey& journey) const` – вывод информации о поездке;

 Класс DriverSchedule

Класс для управления расписанием водителей. Отслеживает назначенные рейсы водителям, проверяет доступность водителей и соответствие рабочему времени.

**Поля:**

- `std::unordered_map<std::shared_ptr<Driver>, std::vector<std::shared_ptr<Trip>>> driverTrips` – соответствие водителя и его рейсов;
- `const int MAX_WORKING_HOURS` – максимальное рабочее время (12 часов в минутах);

**Методы:**

- `void assignTripToDriver(std::shared_ptr<Driver> driver, std::shared_ptr<Trip> trip)` – назначение рейса водителю;
- `void removeTripFromDriver(std::shared_ptr<Driver> driver, int tripId)` – удаление рейса у водителя;
- `bool isDriverAvailable(std::shared_ptr<Driver> driver, const Time& startTime, const Time& endTime) const` – проверка доступности водителя;
- `bool checkWorkingHoursCompliance(std::shared_ptr<Driver> driver) const` – проверка соответствия рабочему времени;
- `std::vector<std::shared_ptr<Trip>> getDriverTrips(std::shared_ptr<Driver> driver) const` – получение рейсов водителя;
- `int getTotalWorkingMinutes(std::shared_ptr<Driver> driver) const` – получение общего рабочего времени водителя;

 Класс DataManager

Класс для управления сохранением и загрузкой данных системы. Обеспечивает персистентность данных транспортной системы.

**Поля:**

- `std::string dataDirectory` – директория для хранения данных;

**Методы:**

- `DataManager(const std::string& dir = "data/")` – конструктор с параметрами;
- `void saveAllData(TransportSystem& system)` – сохранение всех данных;
- `void loadAllData(TransportSystem& system)` – загрузка всех данных;

**Приватные методы:**

- `void saveStops(TransportSystem& system)` – сохранение остановок;
- `void saveVehicles(TransportSystem& system)` – сохранение транспортных средств;
- `void saveDrivers(TransportSystem& system)` – сохранение водителей;
- `void saveRoutes(TransportSystem& system)` – сохранение маршрутов;
- `void saveTrips(TransportSystem& system)` – сохранение рейсов;
- `void saveAdminCredentials(TransportSystem& system)` – сохранение учетных данных администраторов;
- `void loadStops(TransportSystem& system)` – загрузка остановок;
- `void loadVehicles(TransportSystem& system)` – загрузка транспортных средств;
- `void loadDrivers(TransportSystem& system)` – загрузка водителей;
- `void loadRoutes(TransportSystem& system)` – загрузка маршрутов;
- `void loadTrips(TransportSystem& system)` – загрузка рейсов;
- `void loadAdminCredentials(TransportSystem& system)` – загрузка учетных данных администраторов;

---

 Классы команд (Command Pattern)

 Класс Command

Базовый класс для команд. Реализует паттерн Command для поддержки операций Undo/Redo.

**Методы:**

- `virtual ~Command()` – виртуальный деструктор;
- `virtual void execute() = 0` – выполнение команды;
- `virtual void undo() = 0` – отмена команды;
- `virtual std::string getDescription() const = 0` – получение описания команды;

 Класс CommandHistory

Класс для управления историей команд. Хранит историю выполненных команд и обеспечивает операции Undo/Redo.

**Поля:**

- `std::vector<std::unique_ptr<Command>> history` – история команд;
- `size_t currentIndex` – текущий индекс в истории;
- `static const size_t MAX_HISTORY_SIZE` – максимальный размер истории (100);

**Методы:**

- `void executeCommand(std::unique_ptr<Command> cmd)` – выполнение команды;
- `bool canUndo() const` – проверка возможности отмены;
- `void undo()` – отмена последней команды;
- `bool canRedo() const` – проверка возможности повтора;
- `void redo()` – повтор команды;
- `void clear()` – очистка истории;
- `std::string getLastCommandDescription() const` – описание последней команды;
- `std::string getNextCommandDescription() const` – описание следующей команды;

 Класс AddRouteCommand

Команда добавления маршрута. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Route> route` – добавляемый маршрут;

**Методы:**

- `AddRouteCommand(TransportSystem* sys, std::shared_ptr<Route> r)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс RemoveRouteCommand

Команда удаления маршрута. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Route> route` – удаляемый маршрут;
- `int routeNumber` – номер маршрута;

**Методы:**

- `RemoveRouteCommand(TransportSystem* sys, int num)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс AddTripCommand

Команда добавления рейса. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Trip> trip` – добавляемый рейс;

**Методы:**

- `AddTripCommand(TransportSystem* sys, std::shared_ptr<Trip> t)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс RemoveTripCommand

Команда удаления рейса. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Trip> trip` – удаляемый рейс;
- `int tripId` – идентификатор рейса;

**Методы:**

- `RemoveTripCommand(TransportSystem* sys, int id)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс AddVehicleCommand

Команда добавления транспортного средства. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Vehicle> vehicle` – добавляемое транспортное средство;

**Методы:**

- `AddVehicleCommand(TransportSystem* sys, std::shared_ptr<Vehicle> v)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс RemoveVehicleCommand

Команда удаления транспортного средства. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Vehicle> vehicle` – удаляемое транспортное средство;
- `std::string licensePlate` – номерной знак;

**Методы:**

- `RemoveVehicleCommand(TransportSystem* sys, const std::string& lp)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс AddStopCommand

Команда добавления остановки. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `Stop stop` – добавляемая остановка;

**Методы:**

- `AddStopCommand(TransportSystem* sys, const Stop& s)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс RemoveStopCommand

Команда удаления остановки. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `Stop stop` – удаляемая остановка;
- `int stopId` – идентификатор остановки;

**Методы:**

- `RemoveStopCommand(TransportSystem* sys, int id)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс AddDriverCommand

Команда добавления водителя. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Driver> driver` – добавляемый водитель;

**Методы:**

- `AddDriverCommand(TransportSystem* sys, std::shared_ptr<Driver> d)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

 Класс RemoveDriverCommand

Команда удаления водителя. Наследуется от Command.

**Поля:**

- `TransportSystem* system` – указатель на транспортную систему;
- `std::shared_ptr<Driver> driver` – удаляемый водитель;
- `std::string firstName, lastName, middleName` – имя, фамилия, отчество водителя;

**Методы:**

- `RemoveDriverCommand(TransportSystem* sys, std::shared_ptr<Driver> d)` – конструктор с параметрами;
- `void execute() override` – выполнение команды;
- `void undo() override` – отмена команды;
- `std::string getDescription() const override` – получение описания;

---

 Классы контейнеров

 Класс DynamicArray

Шаблонный класс динамического массива. Является самописным контейнером, аналогом std::vector. Обеспечивает эффективное хранение и управление последовательностью элементов произвольного типа.

**Поля:**

- `T* data` – указатель на массив данных;
- `size_t capacity` – текущая ёмкость массива;
- `size_t size_` – текущий размер массива;

**Методы:**

- `DynamicArray()` – конструктор по умолчанию;
- `explicit DynamicArray(size_t initialSize)` – конструктор с начальным размером;
- `DynamicArray(const DynamicArray& other)` – конструктор копирования;
- `DynamicArray& operator=(const DynamicArray& other)` – оператор присваивания;
- `~DynamicArray()` – деструктор;
- `void push_back(const T& value)` – добавление элемента в конец;
- `void push_back(T&& value)` – добавление элемента в конец (move-семантика);
- `void erase(const Iterator& it)` – удаление элемента по итератору;
- `void erase(const Iterator& first, const Iterator& last)` – удаление диапазона элементов;
- `T& operator[](size_t index)` – доступ к элементу по индексу;
- `const T& operator[](size_t index) const` – доступ к элементу по индексу (const);
- `T& front()` – получение первого элемента;
- `const T& front() const` – получение первого элемента (const);
- `T& back()` – получение последнего элемента;
- `const T& back() const` – получение последнего элемента (const);
- `size_t size() const` – получение размера;
- `bool empty() const` – проверка на пустоту;
- `void clear()` – очистка массива;
- `Iterator begin()` – итератор на начало;
- `Iterator end()` – итератор на конец;
- `Iterator begin() const` – итератор на начало (const);
- `Iterator end() const` – итератор на конец (const);

**Приватные методы:**

- `void resize()` – увеличение ёмкости массива;

**Вложенный класс Iterator:**

- `T* ptr` – указатель на текущий элемент;
- `Iterator(T* p)` – конструктор итератора;
- `T& operator*()` – разыменование;
- `const T& operator*() const` – разыменование (const);
- `T* operator->()` – доступ к членам;
- `const T* operator->() const` – доступ к членам (const);
- `Iterator& operator++()` – префиксный инкремент;
- `Iterator operator++(int)` – постфиксный инкремент;
- `Iterator& operator--()` – префиксный декремент;
- `Iterator operator--(int)` – постфиксный декремент;
- `bool operator==(const Iterator& other) const` – сравнение на равенство;
- `bool operator!=(const Iterator& other) const` – сравнение на неравенство;
- `Iterator operator+(int n) const` – сложение с числом;
- `Iterator operator-(int n) const` – вычитание числа;
- `friend Iterator operator+(int n, const Iterator& it)` – дружественная функция сложения;
- `friend int operator-(const Iterator& a, const Iterator& b)` – дружественная функция разности;
- `bool operator<(const Iterator& other) const` – оператор меньше;
- `bool operator>(const Iterator& other) const` – оператор больше;
- `bool operator<=(const Iterator& other) const` – оператор меньше или равно;
- `bool operator>=(const Iterator& other) const` – оператор больше или равно;
- `Iterator& operator+=(int n)` – оператор +=;
- `Iterator& operator-=(int n)` – оператор -=;
- `T& operator[](int n)` – доступ по индексу;
- `const T& operator[](int n) const` – доступ по индексу (const);

---

 Классы исключений

 Класс TransportException

Базовый класс для всех исключений транспортной системы. Наследуется от std::exception.

**Поля:**

- `std::string message` – сообщение об ошибке;

**Методы:**

- `explicit TransportException(const std::string& msg)` – конструктор с параметрами;
- `const char* what() const noexcept override` – получение сообщения об ошибке;
- `virtual ~TransportException()` – виртуальный деструктор;

 Класс InputException

Исключение для ошибок ввода данных. Наследуется от TransportException.

**Методы:**

- `explicit InputException(const std::string& msg)` – конструктор с параметрами;

 Класс FileException

Исключение для ошибок работы с файлами. Наследуется от TransportException.

**Методы:**

- `explicit FileException(const std::string& filename, const std::string& operation = "операция")` – конструктор с именем файла и операцией;
- `explicit FileException(const std::string& msg)` – конструктор с сообщением;

 Класс ContainerException

Исключение для ошибок работы с контейнерами. Наследуется от TransportException.

**Методы:**

- `explicit ContainerException(const std::string& msg)` – конструктор с параметрами;
