# Описание алгоритмов системы управления транспортом

## 1. Алгоритм создания маршрута (New Route)

Данный алгоритм отвечает за формирование нового маршрута в системе управления общественным транспортом. Он обеспечивает создание структурного элемента системы, который определяет последовательность остановок, тип транспортного средства и уникальный идентификатор маршрута. Алгоритм осуществляется за счет последовательной обработки данных в несколько этапов:

– Получение входных данных от пользователя: номер маршрута, тип транспорта и список остановок.

– Валидация корректности введенных данных, включая проверку формата и полноты информации.

– Проверка условия различия начальной и конечной остановок для обеспечения логической целостности маршрута.

– Проверка уникальности номера маршрута в системе для предотвращения дублирования.

– Создание объекта маршрута с использованием умных указателей для управления памятью.

– Интеграция нового маршрута в общую структуру данных системы через механизм команд с поддержкой отмены операций.

Алгоритм формирует новый структурный элемент транспортной системы, который становится основой для последующего планирования рейсов и формирования расписания движения транспорта.

## 2. Алгоритм расчета времени прибытия (Calculating Time)

Данный алгоритм отвечает за вычисление времени прибытия транспортного средства на каждую остановку маршрута в рамках конкретного рейса. Он обеспечивает формирование точного расписания движения, учитывающего расстояние между остановками, среднюю скорость транспорта и время стоянки на каждой остановке. Алгоритм осуществляется за счет последовательной обработки данных в несколько этапов:

На первом этапе осуществляется получение информации о рейсе из системы и проверка его существования. Для указанного идентификатора рейса выполняется поиск в коллекции активных рейсов. Если рейс не найден, алгоритм завершается с генерацией исключения, информирующего пользователя об отсутствии указанного рейса в системе.

На втором этапе происходит извлечение маршрутной информации рейса. Алгоритм получает маршрут, связанный с рейсом, и извлекает полный список остановок, через которые следует транспортное средство. Дополнительно извлекается время отправления с начальной остановки, которое служит базовой точкой отсчета для всех последующих расчетов.

На третьем этапе выполняется инициализация временных параметров. Время прибытия на начальную остановку устанавливается равным времени отправления, что обеспечивает корректный старт расчетов. Текущее время инициализируется значением времени отправления.

На четвертом этапе осуществляется последовательный расчет времени прибытия для каждой последующей остановки маршрута. Для каждой пары соседних остановок алгоритм выполняет следующие операции:

– Вычисление расстояния между текущей и следующей остановками.

– Расчет времени в пути на основе расстояния и средней скорости транспорта с преобразованием результата в минуты.

– Определение времени прибытия на следующую остановку путем добавления времени в пути к текущему времени.

– Учет времени стоянки на остановке для определения времени отправления со следующей остановки.

– Обновление текущего времени для последующих расчетов.

На пятом этапе происходит сохранение рассчитанного расписания. Все вычисленные времена прибытия и отправления записываются в объект рейса, что обеспечивает их доступность для последующего использования в системе планирования и информирования пассажиров.

Алгоритм формирует полное расписание движения для указанного рейса, которое используется для информирования пассажиров о времени прибытия транспорта на каждую остановку маршрута и для оптимизации работы транспортной системы.

## 3. Алгоритм поиска маршрутов (Find Routes)

Вторым ключевым алгоритмом является алгоритм поиска маршрутов, который обеспечивает формирование списка прямых маршрутов между двумя указанными остановками в системе с валидацией всех входных данных. Алгоритм проверяет корректность введенных данных, включая проверку формата и полноты информации о начальной и конечной остановках, проверяет условие наличия обеих остановок в маршруте для обеспечения логической целостности результата поиска, проверяет правильность направления движения путем определения позиции остановок в последовательности маршрута и создает результирующий список маршрутов с использованием умных указателей для управления памятью. Алгоритм интегрируется с общей структурой данных системы через механизм доступа к коллекции маршрутов, что обеспечивает эффективный поиск по всем доступным маршрутам транспортной системы. После выполнения поиска найденные маршруты становятся основой для последующего планирования поездок пассажиров и формирования оптимальных маршрутов движения без пересадок.






